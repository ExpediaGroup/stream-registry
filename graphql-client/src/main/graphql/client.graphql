fragment specificationPart on Specification {
    description
    tags{
        name
        value
    }
    type
    configuration
}

fragment DomainPart on Domain{
    __typename
    key{
        name
    }
    specification{
        __typename
        ...specificationPart
    }
}

############ Domain Mutations ############

mutation UpsertDomain(
    $key: DomainKeyInput!
    $specification: SpecificationInput!
) {
    domain{
        upsert(key: $key,specification: $specification){
            __typename
            ...DomainPart
        }
    }
}

query domainQuery(
    $key: DomainKeyInput!
){
    domain(key: $key){
        __typename
        ...DomainPart
    }
}

mutation InsertDomain(
    $key: DomainKeyInput!
    $specification: SpecificationInput!
) {
    domain{
        insert
        (
            key: $key
            specification: $specification
        ){
            __typename
            ...DomainPart
        }
    }
}


mutation UpdateDomain(
    $key: DomainKeyInput!
    $specification: SpecificationInput!
) {
    domain{ update(
        key: $key
        specification: $specification
    ) {
        __typename
        ...DomainPart
    }
    }
}

query GetDomain(
    $key: DomainKeyInput!
) {
    domain(
        key: $key
    ) {
        __typename
        ...DomainPart
    }
}

query GetDomains(
    $key: DomainKeyQuery
    $specification: SpecificationQuery
) {
    domains(
        key: $key
        specification: $specification
    ) {
        __typename
        ...DomainPart
    }
}
