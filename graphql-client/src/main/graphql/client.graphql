fragment specificationPart on Specification {
    description
    tags{
        name
        value
    }
    type
    configuration
}

fragment ConsumerPart on Consumer{
    __typename
    key{
        streamDomain
        streamName
        streamVersion
        zone
        name
    }
    specification{
        __typename
        ...specificationPart
    }
}

fragment ConsumerBindingPart on ConsumerBinding{
    __typename
    key{
        streamDomain
        streamName
        streamVersion
        infrastructureZone
        infrastructureName
        consumerName
    }
    specification{
        __typename
        ...specificationPart
    }
}

fragment DomainPart on Domain{
    __typename
    key{
        name
    }
    specification{
        __typename
        ...specificationPart
    }
}

############ Consumer ############

mutation UpsertConsumer(
    $key: ConsumerKeyInput!
    $specification: SpecificationInput!
) {
    consumer{
        upsert(key: $key,specification: $specification){
            __typename
            ...ConsumerPart
        }
    }
}

query consumerQuery(
    $key: ConsumerKeyInput!
){
    consumer(key: $key){
        __typename
        ...ConsumerPart
    }
}

mutation InsertConsumer(
    $key: ConsumerKeyInput!
    $specification: SpecificationInput!
) {
    consumer{
        insert
        (
            key: $key
            specification: $specification
        ){
            __typename
            ...ConsumerPart
        }
    }
}


mutation UpdateConsumer(
    $key: ConsumerKeyInput!
    $specification: SpecificationInput!
) {
    consumer{ update(
        key: $key
        specification: $specification
    ) {
        __typename
        ...ConsumerPart
    }
    }
}

query GetConsumer(
    $key: ConsumerKeyInput!
) {
    consumer(
        key: $key
    ) {
        __typename
        ...ConsumerPart
    }
}

query GetConsumers(
    $key: ConsumerKeyQuery
    $specification: SpecificationQuery
) {
    consumers(
        key: $key
        specification: $specification
    ) {
        __typename
        ...ConsumerPart
    }
}

############ ConsumerBinding ############

mutation UpsertConsumerBinding(
    $key: ConsumerBindingKeyInput!
    $specification: SpecificationInput!
) {
    consumerBinding{
        upsert(key: $key,specification: $specification){
            __typename
            ...ConsumerBindingPart
        }
    }
}

query consumerBindingQuery(
    $key: ConsumerBindingKeyInput!
){
    consumerBinding(key: $key){
        __typename
        ...ConsumerBindingPart
    }
}

mutation InsertConsumerBinding(
    $key: ConsumerBindingKeyInput!
    $specification: SpecificationInput!
) {
    consumerBinding{
        insert
        (
            key: $key
            specification: $specification
        ){
            __typename
            ...ConsumerBindingPart
        }
    }
}


mutation UpdateConsumerBinding(
    $key: ConsumerBindingKeyInput!
    $specification: SpecificationInput!
) {
    consumerBinding{ update(
        key: $key
        specification: $specification
    ) {
        __typename
        ...ConsumerBindingPart
    }
    }
}

query GetConsumerBinding(
    $key: ConsumerBindingKeyInput!
) {
    consumerBinding(
        key: $key
    ) {
        __typename
        ...ConsumerBindingPart
    }
}

query GetConsumerBindings(
    $key: ConsumerBindingKeyQuery
    $specification: SpecificationQuery
) {
    consumerBindings(
        key: $key
        specification: $specification
    ) {
        __typename
        ...ConsumerBindingPart
    }
}

############ Domain Mutations ############

mutation UpsertDomain(
    $key: DomainKeyInput!
    $specification: SpecificationInput!
) {
    domain{
        upsert(key: $key,specification: $specification){
            __typename
            ...DomainPart
        }
    }
}

query domainQuery(
    $key: DomainKeyInput!
){
    domain(key: $key){
        __typename
        ...DomainPart
    }
}

mutation InsertDomain(
    $key: DomainKeyInput!
    $specification: SpecificationInput!
) {
    domain{
        insert
        (
            key: $key
            specification: $specification
        ){
            __typename
            ...DomainPart
        }
    }
}


mutation UpdateDomain(
    $key: DomainKeyInput!
    $specification: SpecificationInput!
) {
    domain{ update(
        key: $key
        specification: $specification
    ) {
        __typename
        ...DomainPart
    }
    }
}

query GetDomain(
    $key: DomainKeyInput!
) {
    domain(
        key: $key
    ) {
        __typename
        ...DomainPart
    }
}

query GetDomains(
    $key: DomainKeyQuery
    $specification: SpecificationQuery
) {
    domains(
        key: $key
        specification: $specification
    ) {
        __typename
        ...DomainPart
    }
}


