server:
  type: simple
  applicationContextPath: /
  adminContextPath: /private
  connector:
    type: http
    port: 8080

env: local

requestFilterClassNames:
#  - com.expediagroup.streamplatform.extensions.filters.YourRequestFilter1
#  - com.expediagroup.streamplatform.extensions.filters.YourRequestFilter2
responseFilterClassNames:
#  - com.expediagroup.streamplatform.extensions.filters.YourResponseFilter1
#  - com.expediagroup.streamplatform.extensions.filters.YourResponseFilter2

healthCheckStreamConfig:
  name: StreamRegistryHealthCheck
  clusterRegion: localRegion
  partitions: 1
  replicationFactor: 1

streamValidatorConfig:
  className: com.expediagroup.streamplatform.streamregistry.extensions.validation.DefaultStreamValidator

schemaManagerConfig:
  className: com.expediagroup.streamplatform.streamregistry.extensions.schema.ConfluentSchemaManager
  properties:
    schema.registry.url: http://localhost:8081

kafkaProducerConfig:
  kafkaProducerProperties:
    bootstrap.servers: localhost:9092
    acks: all
    retries: 4
    batch.size: 1
    linger.ms: 1
    buffer.memory: 33554432
    schema.registry.url: http://localhost:8081

kafkaStreamsConfig:
  kstreamsProperties:
    application.id: stream-registry-streams
    bootstrap.servers: localhost:9092
    key.serde: io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde
    value.serde: io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde
    schema.registry.url: http://localhost:8081
    replication.factor: 1
    num.stream.threads: 2

# WARNING! This config is NOT RECOMMENDED for production. Dev-use only
# recommended overrides in production = replicationFactor: 3
topicsConfig:
  eventStoreTopic:
    name: _streamregistry_streams_v0.1
    partitions: 1
    replicationFactor: 1
    properties:
      cleanup.policy: compact
      min.insync.replicas: 1
  stateStoreName: _streamregistry_streams_kv_v0.1

infraManagerConfig:
  className: com.expediagroup.streamplatform.streamregistry.provider.impl.KafkaInfraManager
  config:
    infraManagerTopic: _streamregistry_infra_v0.1
    infraManagerStateStoreName: _streamregistry_infra_kv_v0.1
    infraKStreamsProperties:
      application.id: stream-registry-infra
      bootstrap.servers: localhost:9092
      key.serde: io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde
      value.serde: io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde
      schema.registry.url: http://localhost:8081
      replication.factor: 1

logging:
  level: INFO
  loggers:
    com.expediagroup: DEBUG
  appenders:
    - type: console
      logFormat: "[%d{HH:mm:ss.SSS}] [%t] %-6level %logger{5} - %msg %n"

swagger:
  resourcePackage: com.expediagroup.streamplatform.streamregistry.resource
  title: Stream Registry API
  version: v0
  description: Stream Registry API
  contact: stream-registry-committers@expediagroup.com
  scan: true

httpClient:
  timeout: 10000ms
  connectionTimeout: 10000ms
  connectionRequestTimeout: 10000ms
