scalar ObjectNode

############ Status ############

input StatusInput {
  agentStatus: ObjectNode!
}

input StatusQuery {
  descriptionRegex: String
}

type Status {
  agentStatus: ObjectNode!
}

############ Tag ############

input TagInput {
  name: String!
  value: String
}

input TagQuery {
  nameRegex: String
  valueRegex: String
}

type Tag {
  name: String!
  value: String
}

############ Specification ############

input SpecificationInput {
  description: String!
  tags: [TagInput!]
  type: String!
  configuration: ObjectNode!
}

input SpecificationQuery {
  descriptionRegex: String
  tags: [TagQuery!]
  typeRegex: String
}

type Specification {
  description: String
  tags: [Tag!]!
  type: String!
  configuration: ObjectNode!
}

############ Domain ############

type DomainKey {
  name: String!
}

input DomainKeyInput {
  name: String!
}

input DomainKeyQuery {
  nameRegex: String
}

type Domain {
  key: DomainKey!
  specification: Specification!
  status: Status!
  schemas: [Schema!]
  #streams: [Stream!]
}

############ Schema ############

type SchemaKey {
  domain: String!
  name: String!
}

input SchemaKeyInput {
  domain: String!
  name: String!
}

input SchemaKeyQuery {
  domainRegex: String
  nameRegex: String
}

type Schema {
  key: SchemaKey!
  specification: Specification!
  ##configuration: ObjectNode!
  status: ObjectNode
  domain: Domain!
  #streams: [Stream!]
}

############ Stream ############

type StreamKey {
  domain: String!
  name: String!
  version: Int!
}

input StreamKeyInput {
  domain: String!
  name: String!
  version: Int!
}

input StreamKeyQuery {
  domainRegex: String
  nameRegex: String
  version: Int
}

type Stream {
  key: StreamKey!
  schema: Schema!
  specification: Specification!
  status: ObjectNode
  #producers: [Producer!]
  #consumers: [Consumer!]
}

############ Zone ############

type ZoneKey {
  name: String!
}

input ZoneKeyInput {
  name: String!
}

input ZoneKeyQuery {
  nameRegex: String
}

type Zone {
  key: ZoneKey!
  specification: Specification!
  status: ObjectNode
  #infrastructures: [Infrastructure!]
}

############ Infrastructure ############

type InfrastructureKey {
  zone: String!
  name: String!
}

input InfrastructureKeyInput {
  zone: String!
  name: String!
}

input InfrastructureKeyQuery {
  zoneRegex: String
  nameRegex: String
}

type Infrastructure {
  key: InfrastructureKey!
  specification: Specification!
  status: ObjectNode
  zone: Zone
  #streamBindings: [StreamBinding!]
}

############ Producer ############

type ProducerKey {
  streamDomain: String!
  streamName: String!
  streamVersion: Int!
  zone: String!
  name: String!
}

input ProducerKeyInput {
  streamDomain: String!
  streamName: String!
  streamVersion: Int!
  zone: String!
  name: String!
}

input ProducerKeyQuery {
  streamDomainRegex: String
  streamNameRegex: String
  streamVersion: Int
  zoneRegex: String
  nameRegex: String
}

type Producer {
  key: ProducerKey!
  specification: Specification!
  status: ObjectNode
  stream: Stream!
  zone: Zone!
  #bindings: [ProducerBinding!]
}

############ Consumer ############

type ConsumerKey {
  streamDomain: String!
  streamName: String!
  streamVersion: Int!
  zone: String!
  name: String!
}

input ConsumerKeyInput {
  streamDomain: String!
  streamName: String!
  streamVersion: Int!
  zone: String!
  name: String!
}

input ConsumerKeyQuery {
  streamDomainRegex: String
  streamNameRegex: String
  streamVersion: Int
  zoneRegex: String
  nameRegex: String
}

type Consumer {
  key: ConsumerKey!
  specification: Specification!
  status: ObjectNode
  stream: Stream!
  zone: Zone!
  #bindings: [ConsumerBinding!]
}

############ StreamBinding ############

type StreamBindingKey {
  streamDomain: String!
  streamName: String!
  streamVersion: Int!
  infrastructureZone: String!
  infrastructureName: String!
}

input StreamBindingKeyInput {
  streamDomain: String!
  streamName: String!
  streamVersion: Int!
  infrastructureZone: String!
  infrastructureName: String!
}

input StreamBindingKeyQuery {
  streamDomainRegex: String
  streamNameRegex: String
  streamVersion: Int
  infrastructureZoneRegex: String
  infrastructureNameRegex: String
}

type StreamBinding {
  key: StreamBindingKey!
  specification: Specification!
  status: ObjectNode
  stream: Stream!
  infrastructure: Infrastructure!
  #producerBinding: ProducerBinding!
  #consumerBinding: ConsumerBinding!
}

############ ProducerBinding ############

type ProducerBindingKey {
  streamDomain: String!
  streamName: String!
  streamVersion: Int!
  infrastructureZone: String!
  infrastructureName: String!
  producerName: String!
}

input ProducerBindingKeyInput {
  streamDomain: String!
  streamName: String!
  streamVersion: Int!
  infrastructureZone: String!
  infrastructureName: String!
  producerName: String!
}

input ProducerBindingKeyQuery {
  streamDomainRegex: String
  streamNameRegex: String
  streamVersion: Int
  infrastructureZoneRegex: String
  infrastructureNameRegex: String
  producerNameRegex: String
}

type ProducerBinding {
  key: ProducerBindingKey!
  specification: Specification!
  producer: Producer!
  binding: StreamBinding!
  status: ObjectNode
}

############ ConsumerBinding ############

type ConsumerBindingKey {
  streamDomain: String!
  streamName: String!
  streamVersion: Int!
  infrastructureZone: String!
  infrastructureName: String!
  consumerName: String!
}

input ConsumerBindingKeyInput {
  streamDomain: String!
  streamName: String!
  streamVersion: Int!
  infrastructureZone: String!
  infrastructureName: String!
  consumerName: String!
}

input ConsumerBindingKeyQuery {
  streamDomainRegex: String
  streamNameRegex: String
  streamVersion: Int
  infrastructureZoneRegex: String
  infrastructureNameRegex: String
  consumerNameRegex: String
}

type ConsumerBinding {
  key: ConsumerBindingKey!
  specification: Specification!
  consumer: Consumer!
  binding: StreamBinding!
  status: ObjectNode
}


############ Mutations ############

type Mutation {

  insertDomain(key: DomainKeyInput!, specification: SpecificationInput!): Domain!
  updateDomain(key: DomainKeyInput!, specification: SpecificationInput!): Domain!
  upsertDomain(key: DomainKeyInput!, specification: SpecificationInput!): Domain!
  deleteDomain(key: DomainKeyInput!): Boolean!
  updateDomainStatus(key: DomainKeyInput!, status: StatusInput!): Domain!

  insertSchema(key: SchemaKeyInput!, specification: SpecificationInput!): Schema!
  updateSchema(key: SchemaKeyInput!, specification: SpecificationInput!): Schema!
  upsertSchema(key: SchemaKeyInput!, specification: SpecificationInput!): Schema!
  deleteSchema(key: SchemaKeyInput!): Boolean!
  updateSchemaStatus(key: SchemaKeyInput!, status: StatusInput!): Schema!

  insertStream(key: StreamKeyInput!, specification: SpecificationInput!, schema: SchemaKeyInput!): Stream!
  updateStream(key: StreamKeyInput!, specification: SpecificationInput!): Stream!
  upsertStream(key: StreamKeyInput!, specification: SpecificationInput!, schema: SchemaKeyInput): Stream!
  deleteStream(key: StreamKeyInput!): Boolean!
  updateStreamStatus(key: StreamKeyInput!, status: StatusInput!): Stream!

  insertZone(key: ZoneKeyInput!, specification: SpecificationInput!): Zone!
  updateZone(key: ZoneKeyInput!, specification: SpecificationInput!): Zone!
  upsertZone(key: ZoneKeyInput!, specification: SpecificationInput!): Zone!
  deleteZone(key: ZoneKeyInput!): Boolean!
  updateZoneStatus(key: ZoneKeyInput!, status: StatusInput!): Zone!

  insertInfrastructure(key: InfrastructureKeyInput!, specification: SpecificationInput!): Infrastructure!
  updateInfrastructure(key: InfrastructureKeyInput!, specification: SpecificationInput!): Infrastructure!
  upsertInfrastructure(key: InfrastructureKeyInput!, specification: SpecificationInput!): Infrastructure!
  deleteInfrastructure(key: InfrastructureKeyInput!): Boolean!
  updateInfrastructureStatus(key: InfrastructureKeyInput!, status: StatusInput!): Infrastructure!

  insertProducer(key: ProducerKeyInput!, specification: SpecificationInput!): Producer!
  updateProducer(key: ProducerKeyInput!, specification: SpecificationInput!): Producer!
  upsertProducer(key: ProducerKeyInput!, specification: SpecificationInput!): Producer!
  deleteProducer(key: ProducerKeyInput!): Boolean!
  updateProducerStatus(key: ProducerKeyInput!, status: StatusInput!): Producer!

  insertConsumer(key: ConsumerKeyInput!, specification: SpecificationInput!): Consumer!
  updateConsumer(key: ConsumerKeyInput!, specification: SpecificationInput!): Consumer!
  upsertConsumer(key: ConsumerKeyInput!, specification: SpecificationInput!): Consumer!
  deleteConsumer(key: ConsumerKeyInput!): Boolean!
  updateConsumerStatus(key: ConsumerKeyInput!, status: StatusInput!): Consumer!

  insertStreamBinding(key: StreamBindingKeyInput!, specification: SpecificationInput!): StreamBinding!
  updateStreamBinding(key: StreamBindingKeyInput!, specification: SpecificationInput!): StreamBinding!
  upsertStreamBinding(key: StreamBindingKeyInput!, specification: SpecificationInput!): StreamBinding!
  deleteStreamBinding(key: StreamBindingKeyInput!): Boolean!
  updateStreamBindingStatus(key: StreamBindingKeyInput!, status: StatusInput!): StreamBinding!

  insertProducerBinding(key: ProducerBindingKeyInput!, specification: SpecificationInput!): ProducerBinding!
  updateProducerBinding(key: ProducerBindingKeyInput!, specification: SpecificationInput!): ProducerBinding!
  upsertProducerBinding(key: ProducerBindingKeyInput!, specification: SpecificationInput!): ProducerBinding!
  deleteProducerBinding(key: ProducerBindingKeyInput!): Boolean!
  updateProducerBindingStatus(key: ProducerBindingKeyInput!, status: StatusInput!): ProducerBinding!

  insertConsumerBinding(key: ConsumerBindingKeyInput!, specification: SpecificationInput!): ConsumerBinding!
  updateConsumerBinding(key: ConsumerBindingKeyInput!, specification: SpecificationInput!): ConsumerBinding!
  upsertConsumerBinding(key: ConsumerBindingKeyInput!, specification: SpecificationInput!): ConsumerBinding!
  deleteConsumerBinding(key: ConsumerBindingKeyInput!): Boolean!
  updateConsumerBindingStatus(key: ConsumerBindingKeyInput!, status: StatusInput!): ConsumerBinding!

}

############ Queries ############

type Query {

  bugfixq(v:TagQuery): Domain @deprecated(reason: "This is only here to address a bug: https://github.com/graphql-java-kickstart/graphql-java-tools/issues/77")
  bugfixi(v:TagInput): Domain @deprecated(reason: "This is only here to address a bug: https://github.com/graphql-java-kickstart/graphql-java-tools/issues/77")

  getDomain(key: DomainKeyInput!): Domain!
  getDomains(key: DomainKeyQuery, specification: SpecificationQuery): [Domain!]!

  getSchema(key: SchemaKeyInput!): Schema!
  getSchemas(key: SchemaKeyQuery, specification: SpecificationQuery): [Schema!]!

  getStream(key: StreamKeyInput!): Stream!
  getStreams(key: StreamKeyQuery, specification: SpecificationQuery, schema: SchemaKeyQuery): [Stream!]!

  getZone(key: ZoneKeyInput!): Zone!
  getZones(key: ZoneKeyQuery, specification: SpecificationQuery): [Zone!]!

  getInfrastructure(key: InfrastructureKeyInput!): Infrastructure!
  getInfrastructures(key: InfrastructureKeyQuery, specification: SpecificationQuery): [Infrastructure!]!

  getProducer(key: ProducerKeyInput!): Producer!
  getProducers(key: ProducerKeyQuery, specification: SpecificationQuery): [Producer!]!

  getConsumer(key: ConsumerKeyInput!): Consumer!
  getConsumers(key: ConsumerKeyQuery, specification: SpecificationQuery): [Consumer!]!

  getStreamBinding(key: StreamBindingKeyInput!): StreamBinding!
  getStreamBindings(key: StreamBindingKeyQuery, specification: SpecificationQuery): [StreamBinding!]!

  getProducerBinding(key: ProducerBindingKeyInput!): ProducerBinding!
  getProducerBindings(key: ProducerBindingKeyQuery, specification: SpecificationQuery): [ProducerBinding!]!

  getConsumerBinding(key: ConsumerBindingKeyInput!): ConsumerBinding!
  getConsumerBindings(key: ConsumerBindingKeyQuery, specification: SpecificationQuery): [ConsumerBinding!]!

}
