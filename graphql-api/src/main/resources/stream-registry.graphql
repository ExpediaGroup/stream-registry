scalar Tags
scalar Config

type Domain {
  name: String!
  owner: String!
  description: String!
  tags: Tags!
  type: String!
  configuration: Config!
}

type Schema {
  name: String!
  owner: String!
  description: String!
  tags: Tags!
  type: String!
  configuration: Config!
  domain: Domain!
}

type Stream {
  name: String!
  owner: String!
  description: String!
  tags: Tags!
  type: String!
  configuration: Config!
  domain: Domain!
  version: Int!
  schema: Schema!
}

type Zone {
  name: String!
  owner: String!
  description: String!
  tags: Tags!
  type: String!
  configuration: Config!
}

type Infrastructure {
  name: String!
  owner: String!
  description: String!
  tags: Tags!
  type: String!
  configuration: Config!
  zone: Zone!
}

type Producer {
  name: String!
  owner: String!
  description: String!
  tags: Tags!
  type: String!
  configuration: Config!
  stream: Stream!
  zones: [String!]!
}

type Consumer {
  name: String!
  owner: String!
  description: String!
  tags: Tags!
  type: String!
  configuration: Config!
  stream: Stream!
  zones: [String!]!
}

type StreamBinding {
  name: String!
  owner: String!
  description: String!
  tags: Tags!
  type: String!
  configuration: Config!
  stream: Stream!
  infrastructure: Infrastructure!
}

type ProducerBinding {
  name: String!
  owner: String!
  description: String!
  tags: Tags!
  type: String!
  configuration: Config!
  producer: Producer!
  binding: StreamBinding!
}

type ConsumerBinding {
  name: String!
  owner: String!
  description: String!
  tags: Tags!
  type: String!
  configuration: Config!
  consumer: Consumer!
  binding: StreamBinding!
}

input SchemaKeyQueryInput {
  name: String
  domain: String
}

input SchemaKeyInput {
  name: String!
  domain: String!
}

input StreamKeyQueryInput {
  domain: String
  name: String
  version: Int
}

input StreamKeyInput {
  domain: String!
  name: String!
  version: Int!
}

input InfrastructureKeyQueryInput {
  name: String
  zone: String
}

input InfrastructureKeyInput {
  name: String!
  zone: String!
}

type Query {
  domains(
    name: String
    owner: String
    description: String
    tags: Tags
    type: String
    configuration: Config
  ): [Domain!]!
  schemas(
    name: String
    owner: String
    description: String
    tags: Tags
    type: String
    configuration: Config
    domain: String
  ): [Schema!]!
  streams(
    name: String
    owner: String
    description: String
    tags: Tags
    type: String
    configuration: Config
    domain: String
    version: Int
    schema: SchemaKeyQueryInput
  ): [Stream!]!
  producerBindings(
    name: String
    owner: String
    description: String
    tags: Tags
    type: String
    configuration: Config
    producer: String
    zones: [String!]
  ): [ProducerBinding!]!
  consumerBindings(
    name: String
    owner: String
    description: String
    tags: Tags
    type: String
    configuration: Config
    consumer: String
    zones: [String!]
  ): [ConsumerBinding!]!
}

type Mutation {
  upsertDomain(
    name: String!
    description: String!
    tags: Tags!
    type: String!
    configuration: Config!
  ): Boolean!
  upsertSchema(
    name: String!
    description: String!
    tags: Tags!
    type: String!
    configuration: Config!
    domain: String!
  ): Boolean!
  upsertStream(
    name: String!
    description: String!
    tags: Tags!
    type: String!
    configuration: Config!
    domain: String!
    version: Int!
    schema: SchemaKeyInput!
  ): Boolean!
}
